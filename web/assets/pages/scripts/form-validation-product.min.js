var FormValidation = function() {
        var r = function() {
            var e = $("#formProduct"),
                id = $("#productId").val(),
                r = $(".alert-danger", e),
                i = $(".alert-success", e);

            toastr.options = {
                "closeButton": true,
                "debug": false,
                "newestOnTop": false,
                "progressBar": false,
                "positionClass": "toast-top-right",
                "preventDuplicates": false,
                "showDuration": "300",
                "hideDuration": "1000",
                "timeOut": "5000",
                "extendedTimeOut": "1000",
                "showEasing": "swing",
                "hideEasing": "linear",
                "showMethod": "fadeIn",
                "hideMethod": "fadeOut"
            };

            e.validate({
                errorElement: "span",
                errorClass: "help-block help-block-error",
                focusInvalid: !1,
                ignore: "",
                rules: {
                    "formProduct[name]": {
                        minlength: 2,
                        required: !0
                    }
                },
                invalidHandler: function(e, t) {
                    i.hide(), r.show(), App.scrollTo(r, -200)
                },
                errorPlacement: function(e, r) {
                    var i = $(r).parent(".input-icon").children("i");
                    i.removeClass("fa-check").addClass("fa-warning"), i.attr("data-original-title", e.text()).tooltip({
                        container: "body"
                    })
                },
                highlight: function(e) {
                    $(e).closest(".form-group").removeClass("has-success").addClass("has-error")
                },
                unhighlight: function(e) {},
                success: function(e, r) {
                    var i = $(r).parent(".input-icon").children("i");
                    $(r).closest(".form-group").removeClass("has-error").addClass("has-success"), i.removeClass("fa-warning").addClass("fa-check")
                },
                submitHandler: function(e) {
                    r.hide();
                    saveContent();
                    return false;
                }
            })
        };

        var options = {
            target:        '#output2',   // target element(s) to be updated with server response
            beforeSubmit:  showRequest,  // pre-submit callback
            success:       showResponse  // post-submit callback
        };

        function showRequest(formData, jqForm, options) {
            var queryString = $.param(formData);
            alert('About to submit: \n\n' + queryString);
            return true;
        }

        function showResponse(responseText, statusText, xhr, $form)  {
            alert('status: ' + statusText + '\n\nresponseText: \n' + responseText +
                '\n\nThe output div should have already been updated with the responseText.');
        }

        var saveContent = function() {
            // var formData = new FormData();
            // $.post( "/api/update-product", formData)
            // .success(function(data) {
            //     toastr["info"]("Update Product Information Success!");
            // });
            $("#formProduct").ajaxSubmit(options);
            return false;
        };
    return {
        init: function() {
            r()
        }
    }
}();
jQuery(document).ready(function() {
    FormValidation.init()
});